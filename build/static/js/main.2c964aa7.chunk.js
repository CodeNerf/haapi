(this.webpackJsonp3d=this.webpackJsonp3d||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a,o,c,i,l,r=n(1),s=n.n(r),u=n(23),p=n.n(u),m=(n(65),n(8)),d=n(0),h=n(60),L=n(48),E=n(6),f=(n(66),n(67),n(49)),v=n.n(f),b=n(34),C=n.n(b);function O(){var e=new XMLHttpRequest;e.addEventListener("load",O),e.open("GET","http://live.canbushack.com/command/Unlock"),e.send()}function S(){var e=new XMLHttpRequest;e.addEventListener("load",S),e.open("GET","http://live.canbushack.com/command/Lock"),e.send()}function g(){var e=new XMLHttpRequest;e.addEventListener("load",g),e.open("GET","http://live.canbushack.com/command/Start Vehicle"),e.send()}function k(){var e=new XMLHttpRequest;e.addEventListener("load",k),e.open("GET","http://live.canbushack.com/command/Trunk"),e.send()}function _(){var e,t,n,r,u,p,m,h=Object(E.g)(L.a,"/tesla-w-animations.gltf");return h.scene.scale.set(.005,.005,.005),t=h.animations,e=new d.AnimationMixer(h.scene),Object(E.f)((function(s,h){var L=t[4],E=t[5],f=t[2],v=t[3],b=t[1];n=e.clipAction(L),"LATCH_OPENED"===a?(n.paused=!1,n.timeScale=1,n.setLoop(d.LoopOnce),n.clampWhenFinished=!0,n.play()):"LATCH_CLOSED"===a&&(n.paused=!1,n.timeScale=-1,n.setLoop(d.LoopOnce),n.clampWhenFinished=!0,n.play()),r=e.clipAction(E),("LATCH_OPENED"===o||"LATCH_CLOSED"===o)&&(r.paused=!1,r.timeScale=-1,r.setLoop(d.LoopOnce),r.clampWhenFinished=!0,r.play()),u=e.clipAction(f),"LATCH_OPENED"===c?(u.paused=!1,u.timeScale=1,u.setLoop(d.LoopOnce),u.clampWhenFinished=!0,u.play()):"LATCH_CLOSED"===c&&(u.paused=!1,u.timeScale=-1,u.setLoop(d.LoopOnce),u.clampWhenFinished=!0,u.play()),p=e.clipAction(v),"LATCH_OPENED"===i?(p.paused=!1,p.timeScale=1,p.setLoop(d.LoopOnce),p.clampWhenFinished=!0,p.play()):"LATCH_CLOSED"===i&&(p.paused=!1,p.timeScale=-1,p.setLoop(d.LoopOnce),p.clampWhenFinished=!0,p.play()),m=e.clipAction(b),"LATCH_OPENED"===l?(m.paused=!1,m.timeScale=1,m.setLoop(d.LoopOnce),m.clampWhenFinished=!0,m.play()):"LATCH_CLOSED"===l&&(m.paused=!1,m.timeScale=-1,m.setLoop(d.LoopOnce),m.clampWhenFinished=!0,m.play()),e.update(h)})),s.a.createElement("primitive",{position:[0,0,0],object:h.scene})}function T(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("ambientLight",null),s.a.createElement("pointLight",{intensity:.6,position:[0,10,4]}),s.a.createElement(r.Suspense,{fallback:null},s.a.createElement(_,null)),s.a.createElement(h.a,{autoRotate:[!0]}))}var y=function(){var e=Object(r.useState)(!0),t=Object(m.a)(e,2),n=t[0],u=t[1],p=Object(r.useState)(null),d=Object(m.a)(p,2),h=d[0],L=d[1];return Object(r.useEffect)((function(){var e=setInterval((function(){Promise.all([fetch("http://live.canbushack.com/db_get/259/"),fetch("http://live.canbushack.com/db_get/258/")]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){a=e[0].VCRIGHT_frontLatchStatus.enumerated_value,o=e[0].VCRIGHT_rearLatchStatus.enumerated_value,c=e[1].VCLEFT_frontLatchStatus.enumerated_value,i=e[1].VCLEFT_rearLatchStatus.enumerated_value,l=e[0].VCRIGHT_trunkLatchStatus.enumerated_value})).catch((function(e){console.error("Error fetching data: ",e),L(e)})).finally((function(){u(!1)}))}),1e3);return function(){return clearInterval(e)}}),[]),n?s.a.createElement(C.a,{loading:n,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Haapi is connecting to our servers"}):h?s.a.createElement(C.a,{loading:n,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Failed to connect to server"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:v.a,className:"App-logo",alt:"logo"}),s.a.createElement("div",{id:"container-md"},s.a.createElement("button",{className:"btn btn-primary",onClick:O},"Unlock"),s.a.createElement("button",{className:"btn btn-primary",onClick:S},"Lock"),s.a.createElement("button",{className:"btn btn-primary",onClick:g},"Keyless Drive"),s.a.createElement("button",{className:"btn btn-primary",onClick:k},"Trunk")),s.a.createElement(E.a,{camera:{position:[-5.1092359402557825,2.3585518996952866,-5.686206208293889],near:.5,far:2e3,fov:25,autoRotate:!0}},s.a.createElement(T,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,n){e.exports=n.p+"static/media/haapi.ec1ec64c.svg"},61:function(e,t,n){e.exports=n(114)},65:function(e,t,n){},67:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.2c964aa7.chunk.js.map