{"ast":null,"code":"var _jsxFileName = \"/Users/paris/Desktop/React-3D-Course/src/App.js\";\nimport * as THREE from \"three\";\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport { OrbitControls } from \"drei\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Canvas, useFrame, useLoader } from \"react-three-fiber\";\nimport \"./App.css\";\nlet FrontRightLatch;\nlet RearRightLatch;\nlet FrontLeftLatch;\n\nfunction Tesla() {\n  const gltf = useLoader(GLTFLoader, \"/tesla-w-animations.gltf\");\n  gltf.scene.scale.set(0.005, 0.005, 0.005);\n  let mixer;\n  let animations;\n  let partA; // FRONT RIGHT\n\n  let partB; // REAR RIGHT \n\n  let partC;\n  let partD;\n  animations = gltf.animations;\n  mixer = new THREE.AnimationMixer(gltf.scene); // console.log(animations)\n\n  useFrame((state, delta) => {\n    const clipA = animations[4]; // FRONT RIGHT \n\n    const clipB = animations[5]; // REAR RIGHT \n\n    const clipC = animations[2];\n    const clipD = animations[3];\n    partA = mixer.clipAction(clipA);\n\n    if (FrontRightLatch === \"LATCH_OPENED\") {\n      partA.paused = false;\n      partA.timeScale = 1;\n      partA.setLoop(THREE.LoopOnce);\n      partA.clampWhenFinished = true;\n      partA.play();\n    } else if (FrontRightLatch === \"LATCH_CLOSED\") {\n      partA.paused = false;\n      partA.timeScale = -1;\n      partA.setLoop(THREE.LoopOnce);\n      partA.clampWhenFinished = true;\n      partA.play();\n    }\n\n    partB = mixer.clipAction(clipB);\n\n    if (RearRightLatch === \"LATCH_OPENED\") {\n      partB.paused = false;\n      partB.timeScale = 1;\n      partB.setLoop(THREE.LoopOnce);\n      partB.clampWhenFinished = true;\n      partB.play();\n    } else if (RearRightLatch === \"LATCH_CLOSED\") {\n      partB.paused = false;\n      partB.timeScale = -1;\n      partB.setLoop(THREE.LoopOnce);\n      partB.clampWhenFinished = true;\n      partB.play();\n    }\n\n    partC = mixer.clipAction(clipC);\n\n    if (FrontLeftLatch === \"LATCH_OPENED\") {\n      partC.paused = false;\n      partC.timeScale = 1;\n      partC.setLoop(THREE.LoopOnce);\n      partC.clampWhenFinished = true;\n      partC.play();\n    } else if (FrontLeftLatch === \"LATCH_CLOSED\") {\n      partC.paused = false;\n      partC.timeScale = -1;\n      partC.setLoop(THREE.LoopOnce);\n      partC.clampWhenFinished = true;\n      partC.play();\n    } //Update\n\n\n    mixer.update(delta);\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    object: gltf.scene,\n    position: [0, 0, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 10\n    }\n  });\n}\n\nfunction Scene() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ambientLight\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    intensity: 0.6,\n    position: [0, 10, 4],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Suspense, {\n    fallback: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tesla, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(OrbitControls, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    Promise.all([fetch('http://sla.canbushack.com/db_get/259/'), // Right Side Doors\n    fetch('http://sla.canbushack.com/db_get/258/') // Left Side Doors\n    ]).then(function (responses) {\n      // Get a JSON object from each of the responses\n      return Promise.all(responses.map(function (response) {\n        return response.json();\n      }));\n    }).then(function (data) {\n      FrontRightLatch = data[0]['VCRIGHT_frontLatchStatus']['enumerated_value'];\n      RearRightLatch = data[0]['VCRIGHT_rearLatchStatus']['enumerated_value'];\n      FrontLeftLatch = data[0]['VCLEFT_frontLatchStatus']['enumerated_value'];\n      console.log(data);\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n      setError(error);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, []);\n  if (loading) return \"Application Loading...\";\n  if (error) return \"Error!\";\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Canvas, {\n    camera: {\n      position: [-5.10923594025578253, 2.3585518996952866, -5.686206208293889],\n      near: 0.5,\n      far: 2000,\n      fov: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Scene, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/paris/Desktop/React-3D-Course/src/App.js"],"names":["THREE","React","useState","useEffect","Suspense","OrbitControls","GLTFLoader","Canvas","useFrame","useLoader","FrontRightLatch","RearRightLatch","FrontLeftLatch","Tesla","gltf","scene","scale","set","mixer","animations","partA","partB","partC","partD","AnimationMixer","state","delta","clipA","clipB","clipC","clipD","clipAction","paused","timeScale","setLoop","LoopOnce","clampWhenFinished","play","update","Scene","App","data","setData","loading","setLoading","error","setError","Promise","all","fetch","then","responses","map","response","json","console","log","catch","finally","position","near","far","fov"],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport { OrbitControls } from \"drei\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Canvas, useFrame, useLoader } from \"react-three-fiber\";\nimport \"./App.css\";\n\nlet FrontRightLatch;\nlet RearRightLatch;\nlet FrontLeftLatch;\n\n\n\nfunction Tesla() {\n  const gltf = useLoader(GLTFLoader, \"/tesla-w-animations.gltf\");\n  gltf.scene.scale.set(0.005, 0.005, 0.005)\n  \n  let mixer\n  let animations\n  let partA // FRONT RIGHT\n  let partB // REAR RIGHT \n  let partC\n  let partD \n  \n\n\n        animations = gltf.animations\n        mixer = new THREE.AnimationMixer(gltf.scene);\n        // console.log(animations)\n       \n    \n\n    useFrame((state, delta) => {\n\n      const clipA = animations[ 4 ] // FRONT RIGHT \n      const clipB = animations[ 5 ] // REAR RIGHT \n      const clipC = animations[ 2 ]\n      const clipD = animations[ 3 ]\n\n      partA = mixer.clipAction(clipA)\n      if(FrontRightLatch === \"LATCH_OPENED\"){\n        partA.paused = false;\n        partA.timeScale = 1;\n        partA.setLoop(THREE.LoopOnce);\n        partA.clampWhenFinished = true;\n        partA.play()\n      }\n      else if(FrontRightLatch === \"LATCH_CLOSED\"){\n        partA.paused = false;\n        partA.timeScale = -1;\n        partA.setLoop(THREE.LoopOnce);\n        partA.clampWhenFinished = true;\n        partA.play()\n      }\n\n      partB = mixer.clipAction(clipB)\n      if(RearRightLatch === \"LATCH_OPENED\"){\n        partB.paused = false;\n        partB.timeScale = 1;\n        partB.setLoop(THREE.LoopOnce);\n        partB.clampWhenFinished = true;\n        partB.play()\n      }\n      else if(RearRightLatch === \"LATCH_CLOSED\"){\n        partB.paused = false;\n        partB.timeScale = -1;\n        partB.setLoop(THREE.LoopOnce);\n        partB.clampWhenFinished = true;\n        partB.play()\n      }\n\n      partC = mixer.clipAction(clipC)\n      if(FrontLeftLatch === \"LATCH_OPENED\"){\n        partC.paused = false;\n        partC.timeScale = 1;\n        partC.setLoop(THREE.LoopOnce);\n        partC.clampWhenFinished = true;\n        partC.play()\n      }\n      else if(FrontLeftLatch === \"LATCH_CLOSED\"){\n        partC.paused = false;\n        partC.timeScale = -1;\n        partC.setLoop(THREE.LoopOnce);\n        partC.clampWhenFinished = true;\n        partC.play()\n      }\n\n      \n\n\n\n        //Update\n        mixer.update(delta)\n    })\n\n  return <primitive object={gltf.scene} position={[0, 0, 0]} />;\n}\n\n\nfunction Scene() {\n  return (\n    <>\n      <ambientLight />\n      <pointLight intensity={0.6} position={[0, 10, 4]} />\n      <Suspense fallback={null}>\n      \n        <Tesla />\n        \n      </Suspense>\n      <OrbitControls />\n\n      \n    </>\n  );\n}\n\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  \n  useEffect(() => {\n    \n    Promise.all([\n      fetch('http://sla.canbushack.com/db_get/259/'), // Right Side Doors\n      fetch('http://sla.canbushack.com/db_get/258/') // Left Side Doors\n  ]).then(function (responses) {\n      // Get a JSON object from each of the responses\n      return Promise.all(responses.map(function (response) {\n          return response.json();\n          \n      }));\n  })\n  \n  .then(function (data) {\n    FrontRightLatch = data[0]['VCRIGHT_frontLatchStatus']['enumerated_value']\n    RearRightLatch = data[0]['VCRIGHT_rearLatchStatus']['enumerated_value']\n    FrontLeftLatch = data[0]['VCLEFT_frontLatchStatus']['enumerated_value']\n    console.log(data)\n  })\n\n    .catch((error) => {\n    console.error(\"Error fetching data: \", error);\n    setError(error);\n    })\n    .finally(() => {\n    setLoading(false);\n    });\n    }, []);\n    if (loading) return \"Application Loading...\";\n    if (error) return \"Error!\";\n\n return (\n    <>\n      <Canvas\n        camera={{\n          position: [-5.10923594025578253, 2.3585518996952866, -5.686206208293889],\n          near: 0.5,\n          far: 2000,\n          fov: 25,\n          \n         \n        }}\n      >\n        <Scene />\n      </Canvas>\n\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}