{"ast":null,"code":"var _jsxFileName = \"/Users/paris/Desktop/React-3D-Course/src/App.js\";\nimport * as THREE from \"three\";\nimport React, { useState, useRef, useEffect, Suspense } from \"react\";\nimport { OrbitControls } from \"drei\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Canvas, useFrame, useLoader } from \"react-three-fiber\";\nimport \"./App.css\";\nlet frontRightLatch; // let rearRightLatch\n// let frontLeftLatch\n// let rearLeftLatch \n\nfunction Tesla() {\n  const ref = useRef();\n  const gltf = useLoader(GLTFLoader, \"/tesla-w-animations.gltf\");\n  gltf.scene.scale.set(0.005, 0.005, 0.005);\n  let animations;\n  let mixer; // let [part1, part2, part3, part5, part6, part7, part8, part9, part10]\n\n  let part4;\n\n  if (gltf.animations.length) {\n    mixer = new THREE.AnimationMixer(gltf.scene);\n    animations = gltf.animations; // console.log(animations)\n    // gltf.animations.forEach(clip => {\n    //     const action = mixer.clipAction(clip)\n    //     action.play();\n    // console.log(action)\n    // });\n    //   const clipA = animations [ 4 ]\n    //   part4 = mixer.clipAction(clipA)\n    //   if(frontRightLatch === \"LATCH_OPENED\"){\n    //     part4.paused = false;\n    //     part4.timeScale = 1;\n    //     part4.setLoop(THREE.LoopOnce );\n    //     part4.clampWhenFinished = true;\n    //     part4.play()\n    // } else if (frontRightLatch === \"LATCH_CLOSED\")  {\n    //   part4.paused = false;\n    //   part4.timeScale = -1;\n    //   part4.setLoop(THREE.LoopOnce);\n    //   part4.clampWhenFinished = true;\n    //   part4.play()\n    // }\n  }\n\n  useFrame((state, delta) => {\n    mixer.update(delta);\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    object: gltf.scene,\n    position: [0, 0, 0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }\n  });\n}\n\nfunction Scene() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ambientLight\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    intensity: 0.6,\n    position: [0, 10, 4],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Suspense, {\n    fallback: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tesla, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(OrbitControls, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    Promise.all([fetch('http://sla.canbushack.com:5000/db_get/259/') // Right Side\n    // fetch('http://sla.canbushack.com:5000/db_get/258/') // Right Side\n    ]).then(function (responses) {\n      return Promise.all(responses.map(function (response) {\n        return response.json();\n      }));\n    }).then(data => {\n      setData(data);\n      console.log(data);\n      frontRightLatch = data[0]['VCRIGHT_frontLatchStatus']['enumerated_value']; // rearRightLatch = data[0]['VCRIGHT_rearLatchStatus']['enumerated_value']\n      // frontLeftLatch = data[1]['VCLEFT_frontLatchStatus']['enumerated_value']\n      // rearLeftLatch = data[1]['VCLEFT_rearLatchStatus']['enumerated_value']\n    }).catch(error => {\n      console.error(\"Error fetching data: \", error);\n      setError(error);\n    }).finally(() => {});\n  }, []);\n  if (loading) return \"Application Starting...\";\n  if (error) return \"Error!\";\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Canvas, {\n    camera: {\n      position: [-5.10923594025578253, 2.3585518996952866, -5.686206208293889],\n      near: 0.5,\n      far: 2000,\n      fov: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Scene, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/paris/Desktop/React-3D-Course/src/App.js"],"names":["THREE","React","useState","useRef","useEffect","Suspense","OrbitControls","GLTFLoader","Canvas","useFrame","useLoader","frontRightLatch","Tesla","ref","gltf","scene","scale","set","animations","mixer","part4","length","AnimationMixer","state","delta","update","Scene","App","data","setData","loading","setLoading","error","setError","Promise","all","fetch","then","responses","map","response","json","console","log","catch","finally","position","near","far","fov"],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport React, { useState, useRef, useEffect, Suspense } from \"react\";\nimport { OrbitControls } from \"drei\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Canvas, useFrame, useLoader } from \"react-three-fiber\";\nimport \"./App.css\";\n\nlet frontRightLatch\n// let rearRightLatch\n// let frontLeftLatch\n// let rearLeftLatch \n\nfunction Tesla() {\n  const ref = useRef();\n  const gltf = useLoader(GLTFLoader, \"/tesla-w-animations.gltf\");\n  gltf.scene.scale.set(0.005, 0.005, 0.005)\n  \n  let animations\n  let mixer\n  // let [part1, part2, part3, part5, part6, part7, part8, part9, part10]\n  let part4\n  \n\n  if (gltf.animations.length) {\n      mixer = new THREE.AnimationMixer(gltf.scene);\n      animations = gltf.animations\n      // console.log(animations)\n      // gltf.animations.forEach(clip => {\n      //     const action = mixer.clipAction(clip)\n      //     action.play();\n          // console.log(action)\n      // });\n\n    //   const clipA = animations [ 4 ]\n    //   part4 = mixer.clipAction(clipA)\n    //   if(frontRightLatch === \"LATCH_OPENED\"){\n\n    //     part4.paused = false;\n    //     part4.timeScale = 1;\n\n    //     part4.setLoop(THREE.LoopOnce );\n    //     part4.clampWhenFinished = true;\n    //     part4.play()\n\n    // } else if (frontRightLatch === \"LATCH_CLOSED\")  {\n    //   part4.paused = false;\n    //   part4.timeScale = -1;\n    //   part4.setLoop(THREE.LoopOnce);\n    //   part4.clampWhenFinished = true;\n    //   part4.play()\n\n  \n\n    // }\n  }\n\n  useFrame((state, delta) => { mixer.update(delta) })\n\n  return <primitive object={gltf.scene} position={[0, 0, 0]} />;\n}\n\n\nfunction Scene() {\n  return (\n    <>\n      <ambientLight />\n      <pointLight intensity={0.6} position={[0, 10, 4]} />\n      <Suspense fallback={null}>\n      \n        <Tesla />\n      </Suspense>\n      <OrbitControls />\n\n      \n    </>\n  );\n}\n\nfunction App() {\n\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    Promise.all([\n      fetch('http://sla.canbushack.com:5000/db_get/259/') // Right Side\n      // fetch('http://sla.canbushack.com:5000/db_get/258/') // Right Side\n  ]).then(function (responses) {\n      return Promise.all(responses.map(function (response) {\n          return response.json();\n          \n      }));\n      \n}) \n\n  .then (data => {\n  setData(data);\n  console.log(data)\n    frontRightLatch = data[0]['VCRIGHT_frontLatchStatus']['enumerated_value']\n    // rearRightLatch = data[0]['VCRIGHT_rearLatchStatus']['enumerated_value']\n    // frontLeftLatch = data[1]['VCLEFT_frontLatchStatus']['enumerated_value']\n    // rearLeftLatch = data[1]['VCLEFT_rearLatchStatus']['enumerated_value']\n  })\n\n  .catch((error) => {\n  console.error(\"Error fetching data: \", error);\n  setError(error);\n  })\n  .finally(() => {\n    \n  });\n  }, []);\n  \n  if (loading) return \"Application Starting...\";\n  if (error) return \"Error!\";\n\n  return (\n    <>\n      <Canvas\n        camera={{\n          position: [-5.10923594025578253, 2.3585518996952866, -5.686206208293889],\n          near: 0.5,\n          far: 2000,\n          fov: 25,\n          \n         \n        }}\n      >\n        <Scene />\n      </Canvas>\n\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}