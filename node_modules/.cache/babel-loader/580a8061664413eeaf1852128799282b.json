{"ast":null,"code":"var _jsxFileName = \"/Users/paris/Desktop/React-3D-Haapi/src/App.js\";\nimport * as THREE from \"three\";\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport { OrbitControls } from \"drei\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Canvas, useFrame, useLoader } from \"react-three-fiber\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./App.css\";\nimport logo from \"./haapi2.png\";\nlet FrontRightLatch;\nlet RearRightLatch;\nlet FrontLeftLatch;\nlet RearLeftLatch;\n\nfunction reqUnlock() {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqUnlock);\n  oReq.open(\"GET\", \"http://live.canbushack.com:5000/command/Lock\");\n  oReq.send();\n}\n\nfunction reqLock() {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqLock);\n  oReq.open(\"GET\", \"http://live.canbushack.com:5000/command/Lock\");\n  oReq.send();\n}\n\nfunction reqStart() {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqStart);\n  oReq.open(\"GET\", \"http://live.canbushack.com/command/Start Vehicle\");\n  oReq.send();\n}\n\nfunction reqVent() {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqVent);\n  oReq.open(\"GET\", \"http://live.canbushack.com/command/Vent\");\n  oReq.send();\n}\n\n;\n\nfunction Tesla() {\n  const gltf = useLoader(GLTFLoader, \"/tesla-w-animations.gltf\");\n  gltf.scene.scale.set(0.005, 0.005, 0.005);\n  let mixer;\n  let animations;\n  let partA; // FRONT RIGHT\n\n  let partB; // REAR RIGHT \n\n  let partC; // FRONT LEFT \n\n  let partD; // REAR LEFT\n\n  animations = gltf.animations;\n  mixer = new THREE.AnimationMixer(gltf.scene); // console.log(animations)\n\n  useFrame((state, delta) => {\n    const clipA = animations[4]; // FRONT RIGHT \n\n    const clipB = animations[5]; // REAR RIGHT \n\n    const clipC = animations[2]; // FRONT RIGHT \n\n    const clipD = animations[3]; // REAR RIGHT \n\n    partA = mixer.clipAction(clipA);\n\n    if (FrontRightLatch === \"LATCH_OPENED\") {\n      partA.paused = false;\n      partA.timeScale = 1;\n      partA.setLoop(THREE.LoopOnce);\n      partA.clampWhenFinished = true;\n      partA.play();\n    } else if (FrontRightLatch === \"LATCH_CLOSED\") {\n      partA.paused = false;\n      partA.timeScale = -1;\n      partA.setLoop(THREE.LoopOnce);\n      partA.clampWhenFinished = true;\n      partA.play();\n    }\n\n    partB = mixer.clipAction(clipB);\n\n    if (RearRightLatch === \"LATCH_OPENED\") {\n      partB.paused = false;\n      partB.timeScale = 1;\n      partB.setLoop(THREE.LoopOnce);\n      partB.clampWhenFinished = true;\n      partB.play();\n    } else if (RearRightLatch === \"LATCH_CLOSED\") {\n      partB.paused = false;\n      partB.timeScale = -1;\n      partB.setLoop(THREE.LoopOnce);\n      partB.clampWhenFinished = true;\n      partB.play();\n    }\n\n    partC = mixer.clipAction(clipC);\n\n    if (FrontLeftLatch === \"LATCH_OPENED\") {\n      partC.paused = false;\n      partC.timeScale = 1;\n      partC.setLoop(THREE.LoopOnce);\n      partC.clampWhenFinished = true;\n      partC.play();\n    } else if (FrontLeftLatch === \"LATCH_CLOSED\") {\n      partC.paused = false;\n      partC.timeScale = -1;\n      partC.setLoop(THREE.LoopOnce);\n      partC.clampWhenFinished = true;\n      partC.play();\n    }\n\n    partD = mixer.clipAction(clipD);\n\n    if (RearLeftLatch === \"LATCH_OPENED\") {\n      partD.paused = false;\n      partD.timeScale = 1;\n      partD.setLoop(THREE.LoopOnce);\n      partD.clampWhenFinished = true;\n      partD.play();\n    } else if (RearLeftLatch === \"LATCH_CLOSED\") {\n      partD.paused = false;\n      partD.timeScale = -1;\n      partD.setLoop(THREE.LoopOnce);\n      partD.clampWhenFinished = true;\n      partD.play();\n    } //Update\n\n\n    mixer.update(delta);\n  });\n  return /*#__PURE__*/React.createElement(\"primitive\", {\n    position: [0, 0, 0],\n    object: gltf.scene,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 10\n    }\n  });\n}\n\nfunction Scene() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ambientLight\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    intensity: 0.6,\n    position: [0, 10, 4],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Suspense, {\n    fallback: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tesla, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(OrbitControls, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      // console.log('This will run every second!');\n      Promise.all([fetch('http://live.canbushack.com/db_get/259/'), // Right Side Doors\n      fetch('http://live.canbushack.com/db_get/258/') // Left Side Doors\n      ]).then(function (responses) {\n        // Get a JSON object from each of the responses\n        return Promise.all(responses.map(function (response) {\n          return response.json();\n        }));\n      }).then(function (data) {\n        FrontRightLatch = data[0]['VCRIGHT_frontLatchStatus']['enumerated_value'];\n        RearRightLatch = data[0]['VCRIGHT_rearLatchStatus']['enumerated_value'];\n        FrontLeftLatch = data[1]['VCLEFT_frontLatchStatus']['enumerated_value'];\n        RearLeftLatch = data[1]['VCLEFT_rearLatchStatus']['enumerated_value']; // console.log(data)\n      }).catch(error => {\n        console.error(\"Error fetching data: \", error);\n        setError(error);\n      }).finally(() => {\n        setLoading(false);\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n  if (loading) return \"Application Loading...\";\n  if (error) return \"Error!\";\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo-hold\",\n    src: logo,\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"container-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: reqUnlock(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 5\n    }\n  }, \"Unlock\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: reqLock(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 5\n    }\n  }, \"Lock\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: reqStart(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }, \"Remote Start\")), /*#__PURE__*/React.createElement(Canvas, {\n    camera: {\n      position: [-5.10923594025578253, 2.3585518996952866, -5.686206208293889],\n      near: 0.5,\n      far: 2000,\n      fov: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Scene, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/paris/Desktop/React-3D-Haapi/src/App.js"],"names":["THREE","React","useState","useEffect","Suspense","OrbitControls","GLTFLoader","Canvas","useFrame","useLoader","logo","FrontRightLatch","RearRightLatch","FrontLeftLatch","RearLeftLatch","reqUnlock","oReq","XMLHttpRequest","addEventListener","open","send","reqLock","reqStart","reqVent","Tesla","gltf","scene","scale","set","mixer","animations","partA","partB","partC","partD","AnimationMixer","state","delta","clipA","clipB","clipC","clipD","clipAction","paused","timeScale","setLoop","LoopOnce","clampWhenFinished","play","update","Scene","App","loading","setLoading","error","setError","interval","setInterval","Promise","all","fetch","then","responses","map","response","json","data","catch","console","finally","clearInterval","position","near","far","fov"],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport { OrbitControls } from \"drei\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { Canvas, useFrame, useLoader } from \"react-three-fiber\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./App.css\";\nimport logo from \"./haapi2.png\"\n\nlet FrontRightLatch;\nlet RearRightLatch;\nlet FrontLeftLatch;\nlet RearLeftLatch;\n\n\nfunction reqUnlock () {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqUnlock);\n  oReq.open(\"GET\", \"http://live.canbushack.com:5000/command/Lock\");\n  oReq.send();\n\n}\n\nfunction reqLock () {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqLock);\n  oReq.open(\"GET\", \"http://live.canbushack.com:5000/command/Lock\");\n  oReq.send();\n\n}\n\n\nfunction reqStart () {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqStart);\n  oReq.open(\"GET\", \"http://live.canbushack.com/command/Start Vehicle\");\n  oReq.send();\n\n}\n\n\nfunction reqVent () {\n  var oReq = new XMLHttpRequest();\n  oReq.addEventListener(\"load\", reqVent);\n  oReq.open(\"GET\", \"http://live.canbushack.com/command/Vent\");\n  oReq.send();\n\n};\n\n\nfunction Tesla() {\n  const gltf = useLoader(GLTFLoader, \"/tesla-w-animations.gltf\");\n  gltf.scene.scale.set(0.005, 0.005, 0.005)\n  \n  let mixer\n  let animations\n  let partA // FRONT RIGHT\n  let partB // REAR RIGHT \n  let partC // FRONT LEFT \n  let partD  // REAR LEFT\n  \n\n\n        animations = gltf.animations\n        mixer = new THREE.AnimationMixer(gltf.scene);\n        // console.log(animations)\n       \n    \n\n    useFrame((state, delta) => {\n\n      const clipA = animations[ 4 ] // FRONT RIGHT \n      const clipB = animations[ 5 ] // REAR RIGHT \n      const clipC = animations[ 2 ] // FRONT RIGHT \n      const clipD = animations[ 3 ] // REAR RIGHT \n      \n\n      partA = mixer.clipAction(clipA)\n      if(FrontRightLatch === \"LATCH_OPENED\"){\n        partA.paused = false;\n        partA.timeScale = 1;\n        partA.setLoop(THREE.LoopOnce);\n        partA.clampWhenFinished = true;\n        partA.play()\n      }\n      else if(FrontRightLatch === \"LATCH_CLOSED\"){\n        partA.paused = false;\n        partA.timeScale = -1;\n        partA.setLoop(THREE.LoopOnce);\n        partA.clampWhenFinished = true;\n        partA.play()\n      }\n\n      partB = mixer.clipAction(clipB)\n      if(RearRightLatch === \"LATCH_OPENED\"){\n        partB.paused = false;\n        partB.timeScale = 1;\n        partB.setLoop(THREE.LoopOnce);\n        partB.clampWhenFinished = true;\n        partB.play()\n      }\n      else if(RearRightLatch === \"LATCH_CLOSED\"){\n        partB.paused = false;\n        partB.timeScale = -1;\n        partB.setLoop(THREE.LoopOnce);\n        partB.clampWhenFinished = true;\n        partB.play()\n      }\n\n      partC = mixer.clipAction(clipC)\n      if(FrontLeftLatch === \"LATCH_OPENED\"){\n        partC.paused = false;\n        partC.timeScale = 1;\n        partC.setLoop(THREE.LoopOnce);\n        partC.clampWhenFinished = true;\n        partC.play()\n      }\n      else if(FrontLeftLatch === \"LATCH_CLOSED\"){\n        partC.paused = false;\n        partC.timeScale = -1;\n        partC.setLoop(THREE.LoopOnce);\n        partC.clampWhenFinished = true;\n        partC.play()\n      }\n\n      partD = mixer.clipAction(clipD)\n      if(RearLeftLatch === \"LATCH_OPENED\"){\n        partD.paused = false;\n        partD.timeScale = 1;\n        partD.setLoop(THREE.LoopOnce);\n        partD.clampWhenFinished = true;\n        partD.play()\n      }\n      else if(RearLeftLatch === \"LATCH_CLOSED\"){\n        partD.paused = false;\n        partD.timeScale = -1;\n        partD.setLoop(THREE.LoopOnce);\n        partD.clampWhenFinished = true;\n        partD.play()\n      }\n\n      \n\n      //Update\n        mixer.update(delta)\n    })\n\n  return <primitive position ={[0, 0, 0]} object={gltf.scene} />;\n}\n\n\nfunction Scene() {\n  return (\n    <>\n      <ambientLight />\n      <pointLight intensity={0.6} position={[0, 10, 4]} />\n      <Suspense fallback={null}>\n      \n        <Tesla />\n        \n      </Suspense>\n      <OrbitControls />\n\n      \n    </>\n  );\n}\n\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  \n  useEffect(() => {\n    \n    const interval = setInterval(() => {\n      // console.log('This will run every second!');\n   \n    \n\n    Promise.all([\n      fetch('http://live.canbushack.com/db_get/259/'), // Right Side Doors\n      fetch('http://live.canbushack.com/db_get/258/') // Left Side Doors\n\n      \n      \n  ]).then(function (responses) {\n      // Get a JSON object from each of the responses\n      return Promise.all(responses.map(function (response) {\n          return response.json() ;\n          \n          \n      }))\n  \n      \n  })\n\n  \n  \n  .then(function (data) {\n    FrontRightLatch = data[0]['VCRIGHT_frontLatchStatus']['enumerated_value']\n    RearRightLatch = data[0]['VCRIGHT_rearLatchStatus']['enumerated_value']\n    FrontLeftLatch = data[1]['VCLEFT_frontLatchStatus']['enumerated_value']\n    RearLeftLatch = data[1]['VCLEFT_rearLatchStatus']['enumerated_value']\n    // console.log(data)\n    \n  })\n\n\n\n    .catch((error) => {\n    console.error(\"Error fetching data: \", error);\n    setError(error);\n    })\n    .finally(() => {\n    setLoading(false);\n    })}, 1000);\n  \n    return () => clearInterval(interval);\n    }, []);\n    if (loading) return \"Application Loading...\";\n    if (error) return \"Error!\";\n\n    \n  \n\n return (\n    <>\n    \n    <img className=\"logo-hold\" src={logo} alt=\"Logo\" />\n  \n   <div id=\"container-md\">\n    <button type=\"button\" className =\"btn btn-primary\" onClick={reqUnlock ()}>Unlock</button>\n    <button type=\"button\" className =\"btn btn-primary\" onClick={reqLock ()}>Lock</button>\n    <button type=\"button\" className =\"btn btn-primary\" onClick={reqStart ()}>Remote Start</button>\n\n  </div>\n      <Canvas \n       camera={{\n          position: [-5.10923594025578253, 2.3585518996952866, -5.686206208293889],\n          near: 0.5,\n          far: 2000,\n          fov: 25,\n\n         \n         \n        }}\n        >\n   \n       \n        <Scene />\n      </Canvas>\n\n    \n     </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}